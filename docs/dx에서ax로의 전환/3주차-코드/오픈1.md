---
layout: default
title: ì˜¤í”ˆ1.py
parent: 3ì£¼ì°¨ ì½”ë“œ
grand_parent: 3ì£¼ì°¨ - LLM
nav_order: 6
---

# ì˜¤í”ˆ1.py

OpenAI GPT API ëŒ€í™” ì˜ˆì œ

---

## ê°œìš”

| í•­ëª© | ë‚´ìš© |
|-----|------|
| **API** | OpenAI Chat Completions |
| **ëª¨ë¸** | gpt-3.5-turbo |
| **ê¸°ëŠ¥** | ëŒ€í™” ê¸°ë¡ ê´€ë¦¬, ë§¥ë½ ìœ ì§€ |

---

## ì „ì²´ ì†ŒìŠ¤ ì½”ë“œ

```python
#conda activate llm_env
#pip install openai

MYKEY = "YOUR_OPENAI_API_KEY"

import openai
print(openai.__version__)

from openai import OpenAI
import json

# í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” (API í‚¤ëŠ” í™˜ê²½ ë³€ìˆ˜ì—ì„œ ìë™ ë¡œë“œë¨)
client = OpenAI(api_key=MYKEY)

def run_chat_example():
    """ì±—ë´‡ ëŒ€í™” ì˜ˆì œ ì‹¤í–‰"""
    print("--- 1. ì±—ë´‡ ëŒ€í™” ì˜ˆì œ ì‹œì‘ ---")

    # ëŒ€í™” ê¸°ë¡ (History)ì„ ì €ì¥í•  ë¦¬ìŠ¤íŠ¸
    messages = [
        {"role": "system", "content": "ë‹¹ì‹ ì€ ì¹œì ˆí•œ ê³¼í•™ êµìœ¡ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹µë³€ì€ í•œêµ­ì–´ë¡œ í•´ ì£¼ì„¸ìš”."},
        {"role": "user", "content": "íƒœì–‘ì´ ë¹›ë‚˜ëŠ” ì›ë¦¬ëŠ” ë¬´ì—‡ì¸ê°€ìš”? ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•´ ì£¼ì„¸ìš”."}
    ]

    # ì²« ë²ˆì§¸ ìš”ì²­
    response1 = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=messages
    )

    # ì‘ë‹µ ì¶œë ¥ ë° ëŒ€í™” ê¸°ë¡ì— ì¶”ê°€
    answer1 = response1.choices[0].message.content
    print(f"ğŸ¤– AI ì‘ë‹µ (1): {answer1}")
    messages.append({"role": "assistant", "content": answer1})

    # ë§¥ë½ì„ ì´ì–´ê°€ëŠ” ë‘ ë²ˆì§¸ ì§ˆë¬¸
    user_question2 = "ê·¸ ì—ë„ˆì§€ê°€ ì§€êµ¬ê¹Œì§€ ì˜¤ëŠ” ë° ì–¼ë§ˆë‚˜ ê±¸ë¦¬ë‚˜ìš”?"
    print(f"\nğŸ‘¤ ì‚¬ìš©ì ì§ˆë¬¸ (2): {user_question2}")
    messages.append({"role": "user", "content": user_question2})

    # ë‘ ë²ˆì§¸ ìš”ì²­
    response2 = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=messages
    )

    # ì‘ë‹µ ì¶œë ¥
    answer2 = response2.choices[0].message.content
    print(f"ğŸ¤– AI ì‘ë‹µ (2): {answer2}")
    print("--- ì±—ë´‡ ëŒ€í™” ì˜ˆì œ ì¢…ë£Œ ---\n")

run_chat_example()
```

---

## í•µì‹¬ ê°œë…

### 1. ë©”ì‹œì§€ êµ¬ì¡°

```python
messages = [
    {"role": "system", "content": "ì‹œìŠ¤í…œ ì§€ì¹¨"},
    {"role": "user", "content": "ì‚¬ìš©ì ì§ˆë¬¸"},
    {"role": "assistant", "content": "AI ì‘ë‹µ"}
]
```

| Role | ì„¤ëª… |
|------|------|
| `system` | AIì˜ ì„±ê²©/ì—­í•  ì •ì˜ (ì²« ë²ˆì§¸ ë©”ì‹œì§€) |
| `user` | ì‚¬ìš©ì ì…ë ¥ |
| `assistant` | AI ì‘ë‹µ (ëŒ€í™” ê¸°ë¡ìš©) |

---

### 2. API í˜¸ì¶œ

```python
response = client.chat.completions.create(
    model="gpt-3.5-turbo",
    messages=messages
)

answer = response.choices[0].message.content
```

---

### 3. ëŒ€í™” ë§¥ë½ ìœ ì§€

```python
# 1. ì´ˆê¸° ì§ˆë¬¸
messages.append({"role": "user", "content": "íƒœì–‘ì´ ë¹›ë‚˜ëŠ” ì›ë¦¬ëŠ”?"})

# 2. AI ì‘ë‹µ ì €ì¥
messages.append({"role": "assistant", "content": answer1})

# 3. í›„ì† ì§ˆë¬¸ (ë§¥ë½ ìœ ì§€)
messages.append({"role": "user", "content": "ê·¸ ì—ë„ˆì§€ê°€ ì§€êµ¬ê¹Œì§€ ì–¼ë§ˆë‚˜ ê±¸ë ¤?"})
```

ì´ì „ ëŒ€í™”ë¥¼ messagesì— í¬í•¨í•˜ë©´ AIê°€ ë§¥ë½ì„ ì´í•´!

---

## ì‹¤í–‰ ë°©ë²•

```bash
# ì„¤ì¹˜
pip install openai

# ì‹¤í–‰
python ì˜¤í”ˆ1.py
```

---

## ì‹¤í–‰ ì˜ˆì‹œ

```
--- 1. ì±—ë´‡ ëŒ€í™” ì˜ˆì œ ì‹œì‘ ---
ğŸ¤– AI ì‘ë‹µ (1): íƒœì–‘ì€ í•µìœµí•© ë°˜ì‘ì„ í†µí•´ ë¹›ì„ ëƒ…ë‹ˆë‹¤.
íƒœì–‘ ì¤‘ì‹¬ë¶€ì—ì„œ ìˆ˜ì†Œ ì›ìë“¤ì´ ìœµí•©í•˜ì—¬ í—¬ë¥¨ì´ ë˜ë©´ì„œ
ë§‰ëŒ€í•œ ì—ë„ˆì§€ê°€ ë°©ì¶œë˜ëŠ”ë°, ì´ ì—ë„ˆì§€ê°€ ë¹›ê³¼ ì—´ë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

ğŸ‘¤ ì‚¬ìš©ì ì§ˆë¬¸ (2): ê·¸ ì—ë„ˆì§€ê°€ ì§€êµ¬ê¹Œì§€ ì˜¤ëŠ” ë° ì–¼ë§ˆë‚˜ ê±¸ë¦¬ë‚˜ìš”?
ğŸ¤– AI ì‘ë‹µ (2): íƒœì–‘ì—ì„œ ë°©ì¶œëœ ë¹›ì´ ì§€êµ¬ì— ë„ë‹¬í•˜ëŠ” ë°ëŠ”
ì•½ 8ë¶„ 20ì´ˆê°€ ê±¸ë¦½ë‹ˆë‹¤. ì´ëŠ” ë¹›ì˜ ì†ë„(ì´ˆì† ì•½ 30ë§Œ km)ë¡œ
íƒœì–‘ê³¼ ì§€êµ¬ ì‚¬ì´ì˜ ê±°ë¦¬(ì•½ 1ì–µ 5ì²œë§Œ km)ë¥¼ ì´ë™í•˜ëŠ” ì‹œê°„ì…ë‹ˆë‹¤.
--- ì±—ë´‡ ëŒ€í™” ì˜ˆì œ ì¢…ë£Œ ---
```

---

## OpenAI vs Google Gemini ë¹„êµ

| í•­ëª© | OpenAI | Google Gemini |
|------|--------|---------------|
| **í´ë¼ì´ì–¸íŠ¸** | `OpenAI()` | `genai.Client()` |
| **API í˜¸ì¶œ** | `chat.completions.create()` | `models.generate_content()` |
| **ëª¨ë¸** | gpt-3.5-turbo, gpt-4 | gemini-2.5-flash |
| **ë©”ì‹œì§€** | `messages` ë¦¬ìŠ¤íŠ¸ | `contents` |

---

## API í‚¤ ë°œê¸‰

1. [OpenAI Platform](https://platform.openai.com/) ì ‘ì†
2. íšŒì›ê°€ì… ë° ë¡œê·¸ì¸
3. API Keys â†’ Create new secret key
4. í‚¤ ë³µì‚¬í•˜ì—¬ ì‚¬ìš©
